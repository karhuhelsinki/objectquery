/**
 * ObjectQuery v.1.1
 * 2012 Kimmo Tapala / Verkkojulkaisut - Network Publications Ltd.
 * 
 * ObjectQuery is a simple library for handling datasets. By default, it
 * exposes itself as two variables in the global namespace:
 * 	
 * 	- $oq
 * 		- Generator function that takes a data array as a parameter and
 * 		returns an ObjectQueryCollection object.
 * 	
 * 	- $oqc
 * 		- An object that wraps the default comparator functions.
 * 
 * You can change these variable names and namespace by modifying the last
 * line of this file. The parameters in order are:
 * 	- scope (object)
 * 	- generator function (string)
 * 	- comparator wrapper (string)
 * 	
 * NO COPYRIGHT
 * NO LICENSE
 * GET CODING
 */;(function(e,t,n){"use strict";function r(e){this.items=e}var i=r.prototype;i.filterMap=[{operator:"===",fn:"strictEquals"},{operator:"==",fn:"equals"},{operator:"=",fn:"equals"},{operator:">",fn:"greaterThan"},{operator:">=",fn:"greaterThanOrEquals"},{operator:"<",fn:"lessThan"},{operator:"<=",fn:"lessThanOrEquals"},{operator:"!",fn:"not"},{operator:"!=",fn:"not"},{operator:"!==",fn:"strictNot"},{operator:">>",fn:"inArray"},{operator:"<<",fn:"arrayContains"}];i.filter=function(e,t,n){var i=this.items,s=i.length,o=[],u=typeof t==="function"?t:this.getFilter(t);for(var a=s;a--;){var f=i[a];if(u(f[e],n)){o.push(f)}}return new r(o.reverse())};i.distinct=function(t){var r=this.items,i=e[n].inArray,s=[];for(var o=r.length;o--;){if(!i(r[o][t],s)){s.push(r[o][t])}}return s};i.orderBy=function(e){var t=this.items;t.sort(function(e){return function(t,n){var r=t[e],i=n[e];return r>i?1:r<i?-1:0}}(e));return this};i.toArray=function(){return this.items};i.getFilter=function(t){if(typeof t==="string"){for(var r=this.filterMap.length;r--;){if(this.filterMap[r].operator===t){return e[n][this.filterMap[r].fn]}}}return e[n].equals};e[t]=function(e){return new r(e)};e[n]={equals:function(e,t){return e==t},strictEquals:function(e,t){return e===t},greaterThan:function(e,t){return e>t},greaterThanOrEquals:function(e,t){return e>=t},lessThan:function(e,t){return e<t},lessThanOrEquals:function(e,t){return e<=t},not:function(e,t){return e!=t},strictNot:function(e,t){return e!==t},inArray:function(e,t){for(var n=t.length;n--;){if(e===t[n]){return true}}return false},arrayContains:function(e,t){for(var n=e.length;n--;){if(t===e[n]){return true}}return false}}})(this,"$oq","$oqc");
